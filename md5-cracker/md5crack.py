import hashlib
import argparse

parser = argparse.ArgumentParser(description="MD% Cracker")
parser.add_argument("-md5", dest="hash", help="mdr hash", required=True)
parser.add_argument("-w", dest="wordlist", help="wordlist", required=True)
parsed_args = parser.parse_args()

def main():
    hash_cracked = ""
    # Look into the dictionary
    with open(parsed_args.wordlist) as file:
        # md5 hash each word, compare each hash to the password 
        for line in file:
            line = line.strip()
            # Return whether or not we found the password in the list
            if hashlib.md5(bytes(line, encoding="utf-8")).hexdigest() == parsed_args.hash:
                hash_cracked = line
                print("\nMD5-hash has been successfully cracked. The value is %s." %line)
    if hash_cracked == "":
        print("\nFailed to crack the hash. Try using a bigger/different dictionary")

if __name__ == "__main__":
    main()
